{
  "AWSEBDockerrunVersion": 2,
  "volumes": [
    {
      "name": "nginx-proxy-conf",
      "host": {
        "sourcePath": "./infrastructure/nginx/nginx_site.conf"
      }
    }
  ],
  "containerDefinitions": [
    {
        "name": "phalcon",
        "image": "282251075226.dkr.ecr.eu-west-1.amazonaws.com/apacs:latest",
        "essential": true,
        "memory": 128,
        "mountPoints": [
            {
            "sourceVolume": "apacs-code",
            "containerPath": "/code",
            "readOnly": false
            },
            {
            "sourceVolume": "apacs-env",
            "containerPath": "/code/app/config/.env",
            "readOnly": true
            }
        ]
    },
    {
        "name": "nginx-proxy",
        "image": "nginx",
        "essential": true,
        "memory": 128,
        "portMappings": [
            {
            "hostPort": 80,
            "containerPort": 80
            }
        ],
        "links": [
            "phalcon"
        ],
        "mountPoints": [
            {
                "sourceVolume": "nginx-proxy-conf",
                "containerPath": "/etc/nginx/conf.d/default.conf",
                "readOnly": true
                }
        ]
    }
  ]
}