{
    "name": "Magistratens Resolutioner",
    "description": "Indtastning af resolutionsprotokoller",
    "parentTask": null,
    "entity": {
        "name": "cases",
        "isPrimaryEntity": 1,
        "entityKeyName": "id",
        "type": "object",
        "required": 1,
        "countPerEntry": 1,
        "guiName": "Sag",
        "primaryTableName": "resolutions_cases",
        "includeInSOLR": 0,
        "viewOrder": 1,
        "parent_id": null,
        "fieldRelatingToParent": null,
        "allowNewValues": 1,
        "typeOfRelationToParent": "connection",
        "saveOrderAccordingToParent": "after",
        "fields": {
            "1": {
                "datasources_id": 15,
                "tableName": "resolutions_cases",
                "fieldName": "case_types_id",
                "hasDecode": 1,
                "decodeTable": "resolutions_case_types",
                "decodeField": "case_type",
                "codeAllowNewValue": 1,
                "includeInForm": 1,
                "formName": "Sagstype",
                "formFieldType": "typeahead",
                "formFieldOrder": 1,
                "defaultValue": null,
                "helpText": "Vælg dødsstedet fra listen, hvis stedet ikke findes så vælg *skal oprettes.",
                "placeholder": null,
                "isRequired": 1,
                "validationRegularExpression": "/\\w{1,}/",
                "validationMessage": "Du skal vælge en værdi fra listen.",
                "includeInSOLR": 1,
                "SOLRFieldName": "case_type",
                "SOLRFacet": 0,
                "SOLRResult": 0
            },
            "2": {
                "datasources_id": null,
                "tableName": "resolutions_cases",
                "fieldName": "date",
                "hasDecode": 0,
                "decodeTable": null,
                "decodeField": null,
                "codeAllowNewValue": 1,
                "includeInForm": 1,
                "formName": "Sagsdato",
                "formFieldType": "date",
                "formFieldOrder": 3,
                "defaultValue": null,
                "helpText": "Skrives dd-mm-åååå. Er dag eller måned ikke oplyst skriv i stedet 01, hvor oplysningen mangler, fx 01-01-1899, hvor kun årstallet kendes.",
                "placeholder": null,
                "isRequired": 1,
                "validationRegularExpression": "/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-](17|18|19)\\d{2}$/",
                "validationMessage": "Skriv datoen således: dd-mm-åååå",
                "includeInSOLR": 1,
                "SOLRFieldName": "case_date",
                "SOLRFacet": 1,
                "SOLRResult": 1,
                "name": "case_date"
            },
            "3": {
                "datasources_id": null,
                "tableName": "resolutions_cases",
                "fieldName": "start_page",
                "hasDecode": 0,
                "decodeTable": null,
                "decodeField": null,
                "codeAllowNewValue": 1,
                "includeInForm": 1,
                "formName": "Side start",
                "formFieldType": "string",
                "formFieldOrder": 3,
                "defaultValue": null,
                "helpText": "Paginering.",
                "placeholder": null,
                "isRequired": 1,
                "validationRegularExpression": "/^.+$/",
                "validationMessage": "",
                "includeInSOLR": 0,
                "SOLRFieldName": "start_page",
                "SOLRFacet": 1,
                "SOLRResult": 1,
                "name": "start_page"
            }
        },
        "entities": [
            {
                "name": "transcriptions",
                "isPrimaryEntity": 0,
                "entityKeyName": "cases_id",
                "type": "array",
                "required": 0,
                "countPerEntry": 1,
                "guiName": "Transkription",
                "primaryTableName": "resolutions_transcriptions",
                "includeInSOLR": 0,
                "viewOrder": 2,
                "parent_id": null,
                "fieldRelatingToParent": null,
                "allowNewValues": 1,
                "typeOfRelationToParent": "connection",
                "saveOrderAccordingToParent": "after",
                "fields": [
                    {
                        "datasources_id": 16,
                        "tableName": "resolutions_transcriptions",
                        "fieldName": "transcription_types_id",
                        "hasDecode": 1,
                        "decodeTable": "resolutions_transcription_types",
                        "decodeField": "transcription_type",
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Transkriptionstype",
                        "formFieldType": "typeahead",
                        "formFieldOrder": 1,
                        "defaultValue": null,
                        "helpText": "Begynd at skrive for at fremsøge værdier, eller tilføje en ny værdi.",
                        "placeholder": null,
                        "isRequired": 1,
                        "validationRegularExpression": "/\\w{1,}/",
                        "validationMessage": "Skal være ét ord",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "transcription_type",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": null,
                        "tableName": "resolutions_transcriptions",
                        "fieldName": "transcription",
                        "hasDecode": 0,
                        "decodeTable": null,
                        "decodeField": null,
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Transkription",
                        "formFieldType": "string",
                        "formFieldOrder": 2,
                        "defaultValue": null,
                        "helpText": "Skriv kildetro transkription",
                        "placeholder": null,
                        "isRequired": 1,
                        "validationRegularExpression": "/.*/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "transcription",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    }
                ],
                "entities": null
            },
            {
                "name": "attachments",
                "isPrimaryEntity": 0,
                "entityKeyName": "cases_id",
                "type": "array",
                "required": 0,
                "countPerEntry": 1,
                "guiName": "Bilag",
                "primaryTableName": "resolutions_attachments",
                "includeInSOLR": 0,
                "viewOrder": 3,
                "parent_id": null,
                "fieldRelatingToParent": null,
                "allowNewValues": 1,
                "typeOfRelationToParent": "connection",
                "saveOrderAccordingToParent": "after",
                "fields": [
                    {
                        "datasources_id": 17,
                        "tableName": "resolutions_attachments",
                        "fieldName": "attachment_types_id",
                        "hasDecode": 1,
                        "decodeTable": "resolutions_attachment_types",
                        "decodeField": "attachment_type",
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Fysisk bilag",
                        "formFieldType": "typeahead",
                        "formFieldOrder": 1,
                        "defaultValue": null,
                        "helpText": "Begynd at skrive for at fremsøge værdier, eller tilføje en ny værdi.",
                        "placeholder": null,
                        "isRequired": 1,
                        "validationRegularExpression": "/\\w{1,}/",
                        "validationMessage": "Skal være ét ord",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "attachment_type",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": null,
                        "tableName": "resolutions_attachments",
                        "fieldName": "reference",
                        "hasDecode": 0,
                        "decodeTable": null,
                        "decodeField": null,
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Henvisning",
                        "formFieldType": "string",
                        "formFieldOrder": 2,
                        "defaultValue": null,
                        "helpText": "Selve henvisningen",
                        "placeholder": null,
                        "isRequired": 1,
                        "validationRegularExpression": "/.*/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "reference",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": null,
                        "tableName": "resolutions_attachments",
                        "fieldName": "starbas_id",
                        "hasDecode": 0,
                        "decodeTable": null,
                        "decodeField": null,
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Starbas ID",
                        "formFieldType": "number",
                        "formFieldOrder": 3,
                        "defaultValue": null,
                        "helpText": "Starbas ID-nummer for bestillingsenheden der henvises til.",
                        "placeholder": null,
                        "isRequired": 0,
                        "validationRegularExpression": "/^[1-9][0-9]*$/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "reference",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    }
                ],
                "entities": null
            },
            {
                "name": "references",
                "isPrimaryEntity": 0,
                "entityKeyName": "cases_id",
                "type": "array",
                "required": 0,
                "countPerEntry": 1,
                "guiName": "Henvisninger",
                "primaryTableName": "resolutions_references",
                "includeInSOLR": 0,
                "viewOrder": 4,
                "parent_id": null,
                "fieldRelatingToParent": null,
                "allowNewValues": 1,
                "typeOfRelationToParent": "connection",
                "saveOrderAccordingToParent": "after",
                "fields": [
                    {
                        "datasources_id": 18,
                        "tableName": "resolutions_references",
                        "fieldName": "reference_types_id",
                        "hasDecode": 1,
                        "decodeTable": "resolutions_reference_types",
                        "decodeField": "reference_type",
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Henvisningstype",
                        "formFieldType": "typeahead",
                        "formFieldOrder": 1,
                        "defaultValue": null,
                        "helpText": "Begynd at skrive for at fremsøge værdier, eller tilføje en ny værdi.",
                        "placeholder": null,
                        "isRequired": 1,
                        "validationRegularExpression": "/\\w{1,}/",
                        "validationMessage": "Skal være ét ord",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "reference_type",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": null,
                        "tableName": "resolutions_references",
                        "fieldName": "forward",
                        "hasDecode": 0,
                        "decodeTable": null,
                        "decodeField": null,
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Henvisning frem",
                        "formFieldType": "string",
                        "formFieldOrder": 2,
                        "defaultValue": null,
                        "helpText": "Henvisning frem",
                        "placeholder": null,
                        "isRequired": 0,
                        "validationRegularExpression": "/.*/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "reference_forward",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": null,
                        "tableName": "resolutions_references",
                        "fieldName": "backward",
                        "hasDecode": 0,
                        "decodeTable": null,
                        "decodeField": null,
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Henvisning tilbage",
                        "formFieldType": "string",
                        "formFieldOrder": 3,
                        "defaultValue": null,
                        "helpText": "Henvisning frem",
                        "placeholder": null,
                        "isRequired": 0,
                        "validationRegularExpression": "/.*/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "reference_forward",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": 19,
                        "tableName": "resolutions_references",
                        "fieldName": "referenced_unit_id",
                        "hasDecode": 1,
                        "decodeTable": "apacs_units",
                        "decodeField": "description",
                        "codeAllowNewValue": 0,
                        "includeInForm": 1,
                        "formName": "Reference til protokol",
                        "formFieldType": "typeahead",
                        "formFieldOrder": 4,
                        "defaultValue": null,
                        "helpText": "Starbas ID-nummer for bestillingsenheden der henvises til.",
                        "placeholder": null,
                        "isRequired": 0,
                        "validationRegularExpression": "/^.+$/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "referenced_unit_id",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    }
                ],
                "entities": null
            },
            {
                "name": "persons",
                "isPrimaryEntity": 0,
                "entityKeyName": "cases_id",
                "type": "array",
                "required": 0,
                "countPerEntry": 1,
                "guiName": "Personer",
                "primaryTableName": "resolutions_persons",
                "includeInSOLR": 0,
                "viewOrder": 5,
                "parent_id": null,
                "fieldRelatingToParent": null,
                "allowNewValues": 1,
                "typeOfRelationToParent": "connection",
                "saveOrderAccordingToParent": "after",
                "fields": [
                    {
                        "datasources_id": null,
                        "tableName": "resolutions_persons",
                        "fieldName": "name",
                        "hasDecode": 0,
                        "decodeTable": null,
                        "decodeField": null,
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Fulde navn",
                        "formFieldType": "string",
                        "formFieldOrder": 1,
                        "defaultValue": null,
                        "helpText": "Personens fulde navn",
                        "placeholder": null,
                        "isRequired": 0,
                        "validationRegularExpression": "/[A-Za-zåøæÅØÆ? \\.]{1,}/",
                        "validationMessage": "Navnet må kun bestå af bogstaver og mellemrum.",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "full_name",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": 20,
                        "tableName": "resolutions_persons",
                        "fieldName": "person_sexes_id",
                        "hasDecode": 1,
                        "decodeTable": "resolutions_person_sexes",
                        "decodeField": "sex",
                        "codeAllowNewValue": 1,
                        "includeInForm": 1,
                        "formName": "Køn",
                        "formFieldType": "typeahead",
                        "formFieldOrder": 2,
                        "defaultValue": null,
                        "helpText": "Begynd at skrive for at fremsøge værdier, eller tilføje en ny værdi.",
                        "placeholder": null,
                        "isRequired": 1,
                        "validationRegularExpression": "/\\w{1,}/",
                        "validationMessage": "Du skal vælge et køn fra listen",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "sex",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    },
                    {
                        "datasources_id": 21,
                        "tableName": "resolutions_persons",
                        "fieldName": "person_relations_id",
                        "hasDecode": 1,
                        "decodeTable": "resolutions_person_relations",
                        "decodeField": "relation",
                        "codeAllowNewValue": 0,
                        "includeInForm": 1,
                        "formName": "Personrelation",
                        "formFieldType": "typeahead",
                        "formFieldOrder": 3,
                        "defaultValue": null,
                        "helpText": "Personens relation til sagen",
                        "placeholder": null,
                        "isRequired": 0,
                        "validationRegularExpression": "/^.+$/",
                        "validationMessage": "??",
                        "includeInSOLR": 0,
                        "SOLRFieldName": "person_relation",
                        "SOLRFacet": 0,
                        "SOLRResult": 0
                    }
                ],
                "entities": [
                    {
                        "name": "person_roles",
                        "isPrimaryEntity": 0,
                        "entityKeyName": "persons_id",
                        "type": "array",
                        "required": 0,
                        "countPerEntry": 1,
                        "guiName": "Roller",
                        "primaryTableName": "resolutions_person_roles",
                        "includeInSOLR": 0,
                        "viewOrder": 5,
                        "parent_id": null,
                        "fieldRelatingToParent": null,
                        "allowNewValues": 1,
                        "typeOfRelationToParent": "connection",
                        "saveOrderAccordingToParent": "after",
                        "fields": [
                            {
                                "datasources_id": 22,
                                "tableName": "resolutions_person_roles",
                                "fieldName": "person_role_types_id",
                                "hasDecode": 1,
                                "decodeTable": "resolutions_person_role_types",
                                "decodeField": "role",
                                "codeAllowNewValue": 1,
                                "includeInForm": 1,
                                "formName": "Rolle",
                                "formFieldType": "typeahead",
                                "formFieldOrder": 2,
                                "defaultValue": null,
                                "helpText": "Begynd at skrive for at fremsøge værdier, eller tilføje en ny værdi.",
                                "placeholder": null,
                                "isRequired": 1,
                                "validationRegularExpression": "/\\w{1,}/",
                                "validationMessage": "Du skal vælge en rolle fra listen",
                                "includeInSOLR": 0,
                                "SOLRFieldName": "sex",
                                "SOLRFacet": 0,
                                "SOLRResult": 0
                            }
                        ],
                        "entities": null
                    }
                ]
            }
        ]
    },
    "steps": [
        {
            "name": "Information om sagen",
            "description": "",
            "fields": [
                {
                    "key": "cases.case_type"
                },
                {
                    "key": "cases.date"
                },
                {
                    "key": "cases.start_page"
                },
                {
                    "key": "cases.attachments",
                    "add": "Tilføj"
                },
                {
                    "key": "cases.references",
                    "add": "Tilføj"
                },
                {
                    "key": "cases.persons",
                    "add": "Tilføj"
                }
            ]
        },
        {
            "name": "Transkription af klagen",
            "description": "",
            "fields": [
                {
                    "key": "cases.transcriptions",
                    "add": "Tilføj"
                }
            ]
        }
    ]
}